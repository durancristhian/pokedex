!function(){var e=angular.module("pokedex",["ngRoute","pokedex.controllers","pokedex.directives","pokedex.filters","pokedex.services"]);e.config(["$locationProvider","$routeProvider",function(e,o){e.html5Mode(!0),o.when("/",{templateUrl:"/views/pokedex.html",controller:"pokedexController"}).when("/:type",{templateUrl:"/views/pokedex.html",controller:"pokedexController"}).when("/pokemon/:name",{templateUrl:"/views/pokemon.html",controller:"pokemonController",controllerAs:"pkmCtrl"}).otherwise({redirectTo:"/"})}])}(),function(){angular.module("pokedex.controllers",[]).controller("pokedexController",["$scope","$routeParams","pokemonService",function(e,o,t){var n=o.type;n?t.byType(n).then(function(o){e.pokemons=o}):t.all().then(function(o){e.pokemons=o})}]).controller("pokemonController",["$scope","$routeParams","pokemonService",function(e,o,t){var n=o.name;t.byName(n).then(function(o){e.pokemon=o})}])}(),function(){angular.module("pokedex.directives",[]).directive("pokemonHeader",function(){return{restrict:"A",templateUrl:"/partials/pokemon-header.html"}}).directive("pokemonTabs",function(){return{restrict:"A",templateUrl:"/partials/pokemon-tabs.html",controller:["$scope",function(e){e.tab=0,e.selectTab=function(o){e.tab=o===e.tab?0:o}}]}}).directive("pokemonData",function(){return{restrict:"A",templateUrl:"/partials/pokemon-data.html"}}).directive("pokemonStats",function(){return{restrict:"A",templateUrl:"/partials/pokemon-stats.html"}}).directive("pokemonEvolution",function(){return{restrict:"A",templateUrl:"/partials/pokemon-evolution.html"}}).directive("pokemonComments",function(){return{restrict:"A",templateUrl:"/partials/pokemon-comments.html",controller:["$scope",function(e){e.comments=[],e.comment={},e.anonymousChanged=function(){e.comment.anonymous&&(e.comment.email="")},e.addComment=function(){e.comment.date=Date.now(),e.comments.push(e.comment),e.comment={}}}]}})}(),function(){angular.module("pokedex.filters",[]).filter("normalize",function(){return function(e){return void 0!==e?e.replace("♀","f").replace("♂","m").replace(/\W+/g,"").toLowerCase():""}}).filter("imageFilter",["$filter",function(e){return function(o){return"/images/pokemons/"+e("normalize")(o)+".jpg"}}])}(),function(){angular.module("pokedex.services",[]).factory("pokemonService",["$http","$q","$filter",function(e,o,t){function n(){var t=o.defer();return e.get("/pokemons.json").success(function(e){t.resolve(e)}),t.promise}function r(e){e=i(e);var t=o.defer();return n().then(function(o){var n=o.filter(function(o){return i(o.name)===e});n.length>0?t.resolve(n[0]):t.reject()}),t.promise}function l(e){e=i(e);var t=o.defer();return n().then(function(o){var n=o.filter(function(o){return o.type.some(function(o){return i(o)===e})});t.resolve(n)}),t.promise}var i=t("normalize");return{all:n,byName:r,byType:l}}])}();